}
number <- c(2,5,5,9)
symbol <- c("+", "-", "*", "/")
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
if(eval(parse(text = eq)) == 13) eq
}
number <- c(2,5,5,9)
symbol <- c("+", "-", "*", "/")
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
if(eval(parse(text = eq)) == 13) eq
}
number <- c(2,5,5,9)
symbol <- c("+", "-", "*", "/")
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
if(eval(parse(text = eq)) == 13) eq
}
number <- c(2,5,5,9)
symbol <- c("+", "-", "*", "/")
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
if(eval(parse(text = eq)) == 13) eq
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
if(eval(parse(text = eq)) == 13) eq
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(and == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:100){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:10000){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) print(eq)
}
for (i in 1:10000){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) {
print(eq)
break
}
}
for (i in 1:10000){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) {
print(eq)
break
}
}
for (i in 1:100000){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) {
print(eq)
break
}
}
number_shuffled <- sample(number)
number_shuffled <- sample(number)
for (i in 1:100000){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) {
print(eq)
break
}
}
for (i in 1:100000){
number_shuffled <- sample(number)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
eq <- paste(number_shuffled[1], symbol_shuffled[1],
number_shuffled[2], symbol_shuffled[2],
number_shuffled[3], symbol_shuffled[3],
number_shuffled[4])
ans <- eval(parse(text = eq))
print(ans)
if(ans == 13) {
print(eq)
break
}
}
4*3*2*3^3
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
symbol_shuffled <- sample(symbol, size = 3, replace = TRUE)
locale
locale()
Sys.getlocale()
install.packages(c("graphlayouts", "knitr", "RcppArmadillo", "reticulate", "rmarkdown", "units"))
install.packages(c("curl", "dbplyr", "evaluate", "fansi", "ggplot2", "ggrepel", "htmltools", "lubridate", "magick", "markdown", "openssl", "pkgload", "plyr", "polyclip", "prettyunits", "ragg", "reticulate", "sp", "systemfonts", "textshaping", "tinytex", "vctrs", "vroom", "withr"))
library(interplot)
install.packages("interplot")
library(interplot)
?interplot
install.packages("marginaleffects")
install.packages(c("bookdown", "checkmate", "dbplyr", "evaluate", "ggrepel", "graphlayouts", "htmltools", "httpuv", "knitr", "leaflet.providers", "lifecycle", "lme4", "magick", "maps", "markdown", "matrixStats", "parameters", "pkgload", "plotly", "proxyC", "quanteda.textstats", "ragg", "raster", "RcppArmadillo", "RcppEigen", "rlang", "rprojroot", "rtweet", "shiny", "sp", "terra", "utf8", "vroom", "waldo", "withr", "wk", "xfun"))
install.packages(c("bookdown", "bslib", "cpp11", "crosstalk", "dplyr", "haven", "htmlwidgets", "httr2", "insight", "leaflet", "lintr", "mclust", "R.utils", "scales", "shiny", "sp", "stringi", "stringr", "testthat", "text2vec", "tinytex", "units", "vctrs", "wk"))
install.packages(c("checkmate", "e1071", "htmlwidgets", "httpuv", "jsonlite", "later", "markdown", "progress", "RcppArmadillo", "sass", "vroom", "xml2"))
install.packages(c("brew", "brio", "cli", "curl", "data.table", "datawizard", "DBI", "desc", "fansi", "float", "gghighlight", "glue", "igraph", "ISOcodes", "magick", "maps", "marginaleffects", "matrixStats", "pkgbuild", "processx", "ragg", "Rcpp", "s2", "sf", "stringi", "svglite", "terra", "tidygraph", "yaml"))
library(tidyverse)
n = 20
library(tidyverse)
theme_set(theme_bw(base_family = "Noto Sans CJK JP Light"))
n = 20
x <- rnorm(20)
x <- rnorm(n)
y <- x + rnorm(n)
ggplot(tibble(x, y)) +
geom_point(aes(x = x, y = y))
ggplot(tibble(x, y), aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE)
ggsave("Dropbox/teaching/0_others/2024_mumeikai/figures/regression.png",
width = 6, height = 4)
install.packages(c("estimatr", "graphlayouts", "MatrixExtra", "pkgload", "ps", "roxygen2", "timechange", "withr"))
install.packages(c("bayestestR", "bookdown", "callr", "coda", "commonmark", "curl", "data.table", "DBI", "ggforce", "ggplot2", "ggraph", "httpuv", "igraph", "insight", "ISOcodes", "kableExtra", "magick", "marginaleffects", "mclust", "modelsummary", "pageviews", "parameters", "performance", "R.oo", "RcppArmadillo", "RcppEigen", "reticulate", "rtweet", "rvest", "sp", "terra", "tidygraph", "tidyr", "tweenr", "viridis", "xfun"))
install.packages(c("digest", "ggraph", "graphlayouts", "igraph", "ragg", "rmarkdown", "systemfonts", "tidygraph", "tidyselect", "tinytable"))
install.packages("ggExtra")
install.packages(c("dbplyr", "insight", "parameters", "pkgbuild", "processx", "remotes", "sass", "tinytable", "tinytex"))
install.packages("GGally")
install.packages(c("bslib", "callr", "countrycode", "htmltools", "httpuv", "insight", "lintr", "performance", "repr", "rstudioapi", "sf", "xfun"))
install.packages("patchwork")
data()
cars
library(tidyverse)
OneSide <- OneSided_v23_1
setwd("~/Dropbox/teaching/0_textbook/intro_polisci")
setwd("~/Dropbox/teaching/0_textbook/intro_polisci")
library(tidyverse)
theme_set(theme_light(base_family = "Noto Sans CJk JP Light"))
df_voters <- read_csv("data/2023UTASV20230416.csv", locale = locale(encoding = "Shift=JIS"))
df_voters <- read_csv("data/2023UTASV20230416.csv",
locale = locale(encoding = "Shift-JIS"))
df_voters <- read_csv("data/2023UTASV20230416.csv", na = "99",
locale = locale(encoding = "Shift-JIS"))
ggplot(df_voters) +
geom_bar(aes(x = Q5))
ggplot(df_voters) +
geom_bar(aes(x = Q5, fill = factor(Q48)))
ggplot(df_voters) +
geom_bar(aes(x = Q5, fill = factor(Q48)),
position = "fill")
ggplot(df_voters) +
geom_bar(aes(x = Q5, fill = Q48),
position = "fill")
ggplot(df_voters) +
geom_bar(aes(x = Q5, fill = factor(Q48)),
position = "fill")
View(df_voters)
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = c(""))
gen <- c("")
party <- c("自民", "立憲", "維新", "公明", "共産", "国民", "れいわ", "社民",
"NHK", "参政", "その他", "無回答")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
labs(x = "年代", y = "支持政党", fill = "")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
gen <- c("18,19", "20~24", "25~29", "30~34", "35~39","40~44", "45~49",
"50~54", "55~59", "60~64", "65~69", "70~74", "75~79","80~84", "85以上",
"無回答",)
party <- c("自民", "立憲", "維新", "公明", "共産", "国民", "れいわ", "社民",
"NHK", "参政", "その他", "無回答")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
gen <- c("18,19", "20~24", "25~29", "30~34", "35~39","40~44", "45~49",
"50~54", "55~59", "60~64", "65~69", "70~74", "75~79","80~84", "85以上",
"無回答",)
gen <- c("18,19", "20~24", "25~29", "30~34", "35~39","40~44", "45~49",
"50~54", "55~59", "60~64", "65~69", "70~74", "75~79","80~84", "85以上",
"無回答")
party <- c("自民", "立憲", "維新", "公明", "共産", "国民", "れいわ", "社民",
"NHK", "参政", "その他", "無回答")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
gen <- c("18,19", "20~24", "25~29", "30~34", "35~39","40~44", "45~49",
"50~54", "55~59", "60~64", "65~69", "70~74", "75~79","80~84", "85以上")
party <- c("自民", "立憲", "維新", "公明", "共産", "国民", "れいわ", "社民",
"NHK", "参政", "その他", "無回答")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
setwd("~/Dropbox/teaching/0_textbook/intro_polisci")
library(tidyverse)
theme_set(theme_light(base_family = "Noto Sans CJk JP Light"))
df_voters <- read_csv("data/2023UTASV20230416.csv", na = "99",
locale = locale(encoding = "Shift-JIS"))
gen <- c("18,19", "20~24", "25~29", "30~34", "35~39","40~44", "45~49",
"50~54", "55~59", "60~64", "65~69", "70~74", "75~79","80~84", "85以上")
party <- c("自民", "立憲", "維新", "公明", "共産", "国民", "れいわ", "社民",
"NHK", "参政", "その他", "無回答")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
# scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
ggplot(df_voters) +
geom_bar(aes(x = Q48, fill = factor(Q5)),
position = "fill") +
scale_x_discrete(breaks = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
?scale_x_discrete
ggplot(df_voters) +
geom_bar(aes(x = facet_grid(Q48), fill = factor(Q5)),
position = "fill") +
scale_x_discrete(breaks = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
ggplot(df_voters) +
geom_bar(aes(x = factor(Q48), fill = factor(Q5)),
position = "fill") +
scale_x_discrete(breaks = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
ggplot(df_voters) +
geom_bar(aes(x = factor(Q48), fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
ggplot(df_voters) +
geom_bar(aes(y = factor(Q48), fill = factor(Q5)),
position = "fill") +
scale_y_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
ggplot(df_voters) +
geom_bar(aes(x = factor(Q48), fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "")
ggsave("figures/party_support_age.png", width = 6, height = 4)
ggplot(df_voters) +
geom_bar(aes(x = factor(Q48), fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
ggplot(df_voters) +
geom_bar(aes(x = factor(Q48), fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "") +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=1))
ggsave("figures/party_support_age.png", width = 6, height = 4)
ggplot(df_voters) +
geom_bar(aes(x = factor(Q48), fill = factor(Q5)),
position = "fill") +
scale_x_discrete(labels = gen) +
scale_fill_discrete(labels = party) +
labs(x = "年代", y = "支持政党", fill = "") +
theme(axis.text.x = element_text(angle = 45, vjust = 0.5))
ggsave("figures/party_support_age.png", width = 6, height = 4)
